@model MARS_Project.Models.FairAdmin.Sector

@{
    ViewData["Title"] = "Create Sector";
}
@{
    Layout = "_LayoutFairAdminDashbord";
}

<div class="container mt-3">
    <div class="row justify-content-center">
        <div class="col-md-5 col-lg-4">
            <div class="card shadow-sm border-0">

                <!-- Header -->
                <div class="card-header bg-primary text-white text-center py-2">
                    <small class="fw-semibold">Create Sector</small>
                </div>

                <!-- Body -->
                <div class="card-body p-3">
                    <form id="sectorForm" method="post" asp-action="CreateSector">

                        <div asp-validation-summary="ModelOnly" class="text-danger small"></div>

                        <!-- Email -->
                        <div class="mb-3">
                            <input asp-for="EmailID"
                                   id="EmailID"
                                   class="form-control form-control-sm"
                                   placeholder="Enter Email" />
                        </div>

                        <!-- SECTOR FIELDS -->
                        <div id="sectorFields">

                            <div class="mb-2">
                                <input asp-for="FairID" class="form-control form-control-sm" placeholder="Fair ID" />
                            </div>

                            <div class="mb-2">
                                <input asp-for="SectorName" class="form-control form-control-sm" placeholder="Sector Name" />
                            </div>

                            <div class="mb-2">
                                <input asp-for="SectorGroup" class="form-control form-control-sm" placeholder="Group" />
                            </div>

                            <div class="mb-2">
                                <input asp-for="Area" class="form-control form-control-sm" placeholder="Area" />
                            </div>

                            <div class="mb-3">
                                <textarea asp-for="Description"
                                          class="form-control form-control-sm"
                                          rows="2"
                                          placeholder="Description"></textarea>
                            </div>

                            <div class="form-check mb-3">
                                <input class="form-check-input" asp-for="IsActive" />
                                <label class="form-check-label small">Active</label>
                            </div>

                            <button type="submit"
                                    id="createSectorBtn"
                                    class="btn btn-primary btn-sm w-100">
                                Create Sector
                            </button>
                        </div>

                        <!-- FORGOT FAIR ID SUBMIT -->
                        <div id="forgotSubmit" style="display:none;">
                            <button type="submit"
                                    class="btn btn-success btn-sm w-100">
                                Get Fair ID
                            </button>
                        </div>

                    </form>
                </div>

                <!-- Footer -->
                <div class="card-footer text-center py-1">
                    <a href="javascript:void(0);"
                       class="small text-decoration-none"
                       onclick="switchToForgotFairId()">
                        Forgot Fair ID
                    </a>
                </div>

                <div class="card-footer text-center py-1">
                    <a asp-action="Dashbord" class="small text-decoration-none">
                        ← Dashboard
                    </a>
                </div>

            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function switchToForgotFairId() {

            // hide sector fields
            document.getElementById("sectorFields").style.display = "none";

            // show forgot submit button
            document.getElementById("forgotSubmit").style.display = "block";

            // change form action to ForgotFairID (POST)
            document.getElementById("sectorForm").action = "/FairAdmin/ForgotFairID";

            document.getElementById("EmailID").focus();
        }

        @if (TempData["Invalid"] != null)
        {
                <text>alert("@TempData["Invalid"]");</text>
        }
         @if (TempData["FairID"] != null)
        {
                        <text>alert("@TempData["FairID"]");</text>
        }

        @if (TempData["Sector"] != null)
        {
                <text>alert("@TempData["Sector"]");</text>
        }
    </script>
}
